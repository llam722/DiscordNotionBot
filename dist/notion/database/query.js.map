{"version":3,"file":"query.js","sourceRoot":"","sources":["../../../notion/database/query.ts"],"names":[],"mappings":";AAAA,kDAAkD;AAClD,MAAM,EAAE,UAAU,EAAE,kBAAkB,EAAE,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAExE,mDAAmD;AAEnD,sCAAsC;AACtC,MAAM,KAAK,GAAG,CAAC,KAAK,IAAI,EAAE;IACxB,IAAI;QACF,MAAM,UAAU,GAAG,kBAAkB,CAAC;QACtC,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC;YAC5C,WAAW,EAAE,UAAU;YACvB,QAAQ,EAAE,MAAM;SACjB,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC,QAAQ,CAAC,CAAC;QACzC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,OAAO,IAAI,CAAC;KACb;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,iCAAiC,CAAC,CAAC;KACvD;AACH,CAAC,CAAC,CAAC;AAEH,6CAA6C;AAC7C,MAAM,WAAW,GAAG,CAAC,QAAQ,EAAE,EAAE;IAC/B,MAAM,IAAI,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAChD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KACnC;IACD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,0FAA0F;AAC1F,MAAM,CAAC,OAAO,GAAG,EAAE,KAAK,EAAE,CAAC","sourcesContent":["// const { Client } = require(\"@notionhq/client\");\nconst { NOTION_KEY, NOTION_DATABASE_ID } = require(\"../../config.json\");\n\n// const notion = new Client({ auth: NOTION_KEY });\n\n//function returns an array of pageIds\nconst query = (async () => {\n  try {\n    const databaseId = NOTION_DATABASE_ID;\n    const response = await notion.databases.query({\n      database_id: databaseId,\n      property: \"page\",\n    });\n    console.log(response);\n    const data = await pageIdArray(response);\n    console.log(data);\n    return data;\n  } catch (error) {\n    console.log(error, \"page does not exist in database\");\n  }\n});\n\n// helper function to return list of page ids\nconst pageIdArray = (response) => {\n  const list = [];\n  for (let i = 0; i < response.results.length; i++) {\n    list.push(response.results[i].id);\n  }\n  return list;\n};\n\n//consider this function to just return the page needed instead of returning page id list.\nmodule.exports = { query };\n"]}